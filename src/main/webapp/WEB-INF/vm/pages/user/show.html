<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link href="/lib/ligerUI/skins/Aqua/css/ligerui-all.css" rel="stylesheet" type="text/css" />
<script src="/lib/jquery/jquery-1.3.2.min.js" type="text/javascript"></script>
<script src="/lib/ligerUI/js/core/base.js" type="text/javascript"></script>
<script src="/lib/ligerUI/js/plugins/ligerGrid.js" type="text/javascript"></script>
<script src="/lib/ligerUI/js/plugins/ligerResizable.js" type="text/javascript"></script>
<script>
$(function(){
	var grid;
	grid = $("#maingrid").ligerGrid({
	    columns: [
	  { display: '用户名', name: 'userName', minWidth: 110 },
	  { display: '密码', name: 'password', minWidth: 110 },
	  { display: '角色', name: 'departName', minWidth: 110 },
	  { display: '状态', name: 'status', minWidth: 110 },
	  { display: '操作', isSort: false, width: 120, render: function (rowdata, rowindex, value) {
	      var h = "";
	      h += "<a href='/user/" + rowdata.userId + "/edit'>修改</a> ";
	      h += "<a href='/user/" + rowdata.userId + "/delete'>删除</a> ";
	      return h;
	  }
	  }
	  ], dataAction: 'server', pageSize: 30,
	url: '/user/show', width: '70%', height: '70%'
	});	
});
function js_reloadGrid()
{
	   $("#maingrid").ligerGetGridManager().setOptions({
           parms: [{ name: "userName", value: $('#userName').val().trim()}]
       });
       $("#maingrid").ligerGetGridManager().loadData();
}
</script>
 <div>
  <table>
   <tr>
         <td style="font-size: small;" >用户名：<input id="userName" type="text"  name="userName" />
          <a  href="javascript:js_reloadGrid();">检索</a>      
          <a  id="linkAdd" href="/user/add">新增</a> 
         </td>
      </tr>
    </table>
  </div>
<form>
  <div id="maingrid" style="margin: 0; padding: 0">
  </div>
</form>